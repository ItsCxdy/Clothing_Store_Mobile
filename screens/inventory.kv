<InventoryScreen>:
# Name: 'inventory'

MDBoxLayout:
    orientation: 'vertical'
    padding: "10dp"
    spacing: "10dp"
    
    MDTopAppBar:
        title: "Inventory Management"
        elevation: 1
        md_bg_color: root.theme_cls.accent_color
        specific_text_color: 1, 1, 1, 1
        size_hint_y: None
        height: "56dp"
        
    MDBoxLayout:
        orientation: 'horizontal'
        size_hint_y: None
        height: "40dp"
        spacing: "10dp"
        padding: "5dp", 0
        
        # Search Input
        MDTextField:
            id: search_input
            hint_text: "Search by Product Name or Barcode"
            mode: "rectangle"
            size_hint_x: 0.7
            on_text: root.search_inventory(self.text)
            
        MDIconButton:
            icon: "refresh"
            tooltip_text: "Refresh Inventory List"
            on_release: root.load_inventory()

        MDRaisedButton:
            text: "Add Product"
            on_release: root.show_add_product_dialog()
            size_hint_x: 0.3
            
    # Main Content Area: DataTable
    MDCard:
        orientation: 'vertical'
        padding: "10dp"
        spacing: "10dp"
        elevation: 2
        
        MDLabel:
            text: "Current Stock"
            font_style: "H6"
            size_hint_y: None
            height: self.texture_size[1]
        
        MDRecycleView:
            id: inventory_rv
            key_viewclass: 'viewclass'
            key_size: 'height'
            
            # Placeholder RecycleView for future use with Product details
            RecycleBoxLayout:
                default_size: None, dp(48)
                default_size_hint: 1, None
                size_hint_y: None
                height: self.minimum_height
                orientation: 'vertical'
                padding: "5dp"
                spacing: "2dp"
                
                # Placeholder list item structure
                MDCard:
                    size_hint_y: None
                    height: dp(48)
                    padding: "10dp"
                    MDLabel:
                        text: "Product (Qty: Stock) | Price: Sale Price"
                        halign: "left"
                    MDIconButton:
                        icon: "pencil"
                        pos_hint: {'center_y': 0.5}
                        on_release: print("Edit")
